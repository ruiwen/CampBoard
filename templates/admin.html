{% extends "base.html" %}

{% block js %}
	<script>
		CampBoard.Admin = CampBoard.Admin || {};

		CampBoard.Admin.SessionAdd = function(sess) {
			CampBoard.send_message('session_add', null, sess);
			$('#session-add').val('');
		}
		
		CampBoard.Admin.SessionRemove = function(sess) {
			CampBoard.send_message('session_remove', null, sess);
			$('#session-remove').val('')
		}
		
		CampBoard.Admin.MessageBroadcast = function(msg) {
			CampBoard.send_message('broadcast_message', null, msg);
		}
	</script>
{% end %}

{% block main %}
	<div id="admin-stats">
		<h1>Admin</h1>
		<ul id="admin-stats-list" class="stats-list">
			<li><h2><span class="admin-stats stats-label">Total tweeters</span></h2> <span id="total-tweets" class="stats-value">0</span></li>
			<li><h2><span  class="admin-stats stats-label">Unique tweeters</span></h2> <span id="unique-tweeters" class="stats-value">0</span></li>
			<li><h2><span  class="admin-stats stats-label">Total sessions</span></h2> <span id="total-sessions" class="stats-value">0</span></li>
		</ul>
	</div>
	
	<div id="admin-sessions">
		<h1>Sessions</h1>
		<ul id="session-stats-list" class="stats-list">
			<li class="placeholder">None yet.</li>
		</ul>
	</div>
	
	<div id="admin-controls">
		<h1>Controls</h1>
		<ul>
			<li><input type="text" placeholder="Add session?" id="session-add"><input type='submit' value="+" onclick="CampBoard.Admin.SessionAdd($('#session-add').val())"></li>
			<li><input type="text" placeholder="Remove session?" id="session-remove"><input type='submit' value='-' onclick="CampBoard.Admin.SessionRemove($('#session-remove').val())"></li>
			<li><input type="text" placeholder="Broadcast message" id="message-broadcast"><input type='submit' value='!' onclick="CampBoard.Admin.MessageBroadcast($('#message-broadcast').val())"></li>
		</ul>
	</div>

{% end %}